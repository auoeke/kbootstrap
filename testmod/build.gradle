plugins {
    id("wheel-fabric")
    id("fabric.mod.gradle")
}

sourceSets {
    main {
        java.srcDir("src")
    }
}

loom {
    publish {
        enabled = false
    }
}

dependencies {
    implementation(rootProject)
}

mod {
    custom("kbootstrap:modules": [
        "coroutines",
        "reflect",
        "serialization"
    ])

    entrypoints(main: [kbootstrap: [
        "net.auoeke.testmod.Main::mainInitializer",
        "net.auoeke.testmod.Main",
        "net.auoeke.testmod.Main::init",
        'net.auoeke.testmod.Main$NamedCompanion::staticInitializer',
        'net.auoeke.testmod.Main$NamedCompanion::initializer',
        'net.auoeke.testmod.Main$NamedCompanion::staticInit',
        'net.auoeke.testmod.Main$NamedCompanion',
        'net.auoeke.testmod.Main$NamedCompanion::init',
        "net.auoeke.testmod.Object::staticInitializer",
        "net.auoeke.testmod.Object::initializer",
        "net.auoeke.testmod.Object::staticInit",
        "net.auoeke.testmod.Object",
        "net.auoeke.testmod.Object::init",
    ]])
}
